# -------------------------------------------------------------------
# AUTENTICACIÓN GOOGLE (OAuth 2.0)
# -------------------------------------------------------------------
# Guía de Configuración:
# 1. Ve a: https://console.cloud.google.com/apis/credentials
# 2. Selecciona el proyecto 'pristinoplant'.
# 3. Si no existe, crea una credencial: "Crear Credenciales" > "ID de cliente de OAuth".
# 4. Tipo de aplicación: "Aplicación web".
# 5. CONFIGURACIÓN CRÍTICA (URIs de redireccionamiento autorizados):
#    Debes agregar EXACTAMENTE estas rutas en la consola de Google:
#    - Desarrollo: http://localhost:3000/api/auth/callback/google
#    - Producción: https://pristinoplant.vercel.app/api/auth/callback/google
# -------------------------------------------------------------------
AUTH_GOOGLE_ID=
AUTH_GOOGLE_SECRET=

# -------------------------------------------------------------------
# Configuración de NextAuth.js
# -------------------------------------------------------------------
# https://generate-secret.vercel.app/32
AUTH_SECRET=
# Esta clave se utiliza para cifrar las cookies, garantizando la seguridad de las sesiones de los usuarios.

# -------------------------------------------------------------------
# Base de Datos: PRODUCCIÓN (Vercel Neon)
# -------------------------------------------------------------------
# Guía de Configuración:
# 1. Ve a: https://console.neon.tech/app/projects (o Vercel > Storage > Neon)
# 2. Selecciona tu proyecto y asegúrate de estar en la rama "main".
# 3. Ve al Dashboard y haz clic en "Connect".
# 3. Selecciona "Connection string".
# 4. CONFIGURACIÓN DE URLS (Necesitas dos variables para Prisma + Serverless):
#    A) DATABASE_URL (Para la App - Pooled):
#       - Activa el interruptor "Connection pooling".
#       - Esta URL gestiona miles de conexiones simultáneas.
#    B) DATABASE_URL_UNPOOLED (Para Migraciones - Unpooled):
#       - Desactiva el interruptor "Connection pooling".
#       - Esta URL se usa solo para `prisma migrate deploy`.
# 5. AJUSTES CRÍTICOS (Correcciones aplicadas):
#    - SSL: Debe terminar en "?sslmode=require".
#    - Latencia: Agrega "&connect_timeout=30" al final de DATABASE_URL para evitar
#      errores de conexión desde redes lentas (Venezuela) o arranques en frío.
#    - Latencia del pool: Agrega "&pool_timeout=30"
#      Si el pool de conexiones está lleno, espera 30 segundos a que se libere una.
# -------------------------------------------------------------------
DATABASE_URL=

DATABASE_URL_UNPOOLED=

# -------------------------------------------------------------------
# Base de Datos: DESARROLLO LOCAL (Docker Postgres)
# -------------------------------------------------------------------
DB_USER=admin
DB_PASSWORD=admin
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pristinoplant

# DATABASE_URL=postgresql://username:password@localhost:5432/your_database_name
# DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}?schema=public

# DATABASE_URL=postgresql://julioflores:admin@localhost:5432/pristinoplant?schema=public
# DATABASE_URL_UNPOOLED=postgresql://julioflores:admin@localhost:5432/pristinoplant?schema=public

# -------------------------------------------------------------------
# Broker MQTT (Mosquitto)
# -------------------------------------------------------------------
# MQTT_BROKER_URL=mqtt://mosquitto:1883
MQTT_BROKER_URL=mqtt://localhost:1883
# Identificadores MQTT (Client IDs)
MQTT_CLIENT_ID_INGEST="PristinoPlant-Ingest"
MQTT_CLIENT_ID_SCHEDULER="PristinoPlant-Scheduler"

# -------------------------------------------------------------------
# Base de Datos Series de Tiempo (InfluxDB v3 Core)
# -------------------------------------------------------------------
# URL para acceder desde tu PC Host (Navegador, Scripts locales)
# Nota: Dentro de Docker, los servicios usarán 'http://influxdb:8181'
INFLUX_URL=http://localhost:8181

# Token maestro (Generalo con 'docker exec -it influxdb influxdb3 create token --admin')
INFLUX_TOKEN=tu-token-generado-manualmente

# Organización y Bucket
INFLUX_ORG=PristinoPlant
INFLUX_BUCKET=telemetry

# Credenciales de usuario administrador
INFLUX_USER=julioflores
INFLUX_PASSWORD=admin:8181

# -------------------------------------------------------------------
# REGLAS PARA VARIABLES DE ENTORNO (.env)
# -------------------------------------------------------------------

# IMPORTANTE: Configuración del Host
# - Para desarrollo local (fuera de Docker), los hosts deben ser 'localhost'.
# - Dentro de Docker, los hosts DEBEN ser los nombres de los servicios
#   definidos en docker-compose.yml (ej. 'postgres', 'mosquitto').
#   Docker crea una red interna donde los servicios se comunican usando sus nombres.

# LIMITACIÓN DE 'dotenv': NO SOPORTA SUSTITUCIÓN DE VARIABLES
# La librería 'dotenv' (usada para desarrollo local) lee los valores como texto plano.
# No interpreta la sintaxis `${VAR}`. Por ejemplo, si defines:
#   - URL=http://${HOST}:${PORT}
# 'dotenv' leerá la cadena literal "http://${HOST}:${PORT}".
# Por esta razón, las URLs completas deben construirse en el código de la aplicación,
# no en este archivo. Define aquí solo los componentes básicos (HOST, PORT, etc.).

# BUENA PRÁCTICA: Usar comillas para todos los valores de texto para
# mantener la consistencia y evitar errores con caracteres especiales.
